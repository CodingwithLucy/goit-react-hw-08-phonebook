"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[46],{46:function(e,n,t){t.r(n),t.d(n,{default:function(){return g}});t(2791);var r=t(9439),i=t(7603),a=t(5705),s=t(8007),l=t(184),o={name:"",number:""},d=s.Ry().shape({name:s.Z_().matches("^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$","Name must be a string").min(3,"Too short, minimum length: 3").max(20,"Too long, maximum length: 20").required(),number:s.Rx().typeError().moreThan(12).required()}),c=function(){var e=(0,i.wY)().data,n=(0,i.Tn)(),t=(0,r.Z)(n,2),s=t[0],c=t[1].isLoading,u=(0,a.TA)({initialValues:o,onSubmit:function(n,t){var r,i,a=t.resetForm;r=e,i=n.name,(!r.some((function(e){return e.name===i}))||(alert("".concat(i," is already in contacts")),0))&&(s({name:n.name.trim(),number:n.number.trim()}),a())},validationSchema:d}),h=!(u.isValid&&u.dirty);return(0,l.jsxs)("form",{onSubmit:u.handleSubmit,children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("input",{autoComplete:"off",placeholder:"Name",type:"text",name:"name",onChange:u.handleChange,value:u.values.name,required:!0}),u.errors.name&&u.touched.name?(0,l.jsx)("span",{children:u.errors.name}):null]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("input",{autoComplete:"off",placeholder:"Phone",type:"tel",name:"number",onChange:u.handleChange,value:u.values.number}),u.errors.number&&u.touched.number?(0,l.jsx)("span",{children:u.errors.number}):null]}),(0,l.jsx)("center",{children:(0,l.jsx)("button",{type:"submit",disabled:h,children:c?"Adding contact...":"Add contact"})})]})},u=function(e){return e.filter},h=t(4420),m="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",x=function(){var e=(0,h.v9)(u),n=(0,i.wY)(),t=n.data,a=n.isLoading,s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").toLowerCase();return e.filter((function(e){var t=e.name,r=e.number;return t.toLowerCase().includes(n)||r.includes(n)}))}(t,e),o=(0,i.Nt)(),d=(0,r.Z)(o,1)[0];return a?(0,l.jsx)("h2",{style:{textAlign:"center"},children:"loading..."}):(0,l.jsxs)(l.Fragment,{children:[a&&(0,l.jsx)("h2",{children:"loading..."}),(0,l.jsxs)("table",{style:{marginTop:"20px"},children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Contact name"}),(0,l.jsx)("th",{children:"Phone number"}),(0,l.jsx)("th",{children:"Action"})]})}),(0,l.jsx)("tbody",{children:s.map((function(e){var n=e.id,t=e.name,r=e.number;return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:t}),(0,l.jsx)("td",{children:r}),(0,l.jsx)("td",{children:(0,l.jsx)("button",{onClick:function(){return function(e){d(e)}(n)},children:"Delete"})})]},function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,n="",t=crypto.getRandomValues(new Uint8Array(e));e--;)n+=m[63&t[e]];return n}())}))})]})]})},j=t(4808),f=function(){var e=(0,h.v9)(u),n=(0,h.I0)();return(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,l.jsx)("span",{children:"Find your contact"}),(0,l.jsx)("input",{type:"text",name:"filter",value:e,onChange:function(e){n((0,j.T)(e.target.value))}})]})},p=function(){var e=(0,i.wY)(),n=e.data,t=void 0===n?[]:n,r=e.isFetching;return t.length<=0?(0,l.jsx)("div",{style:{width:"45%",border:"none"},children:(0,l.jsx)("h2",{children:"Please, add first contact"})}):(0,l.jsxs)("div",{style:{minWidth:"600px",maxWidth:"45%"},children:[(0,l.jsxs)("div",{style:{width:"100%",padding:"20px",display:"flex",justifyContent:"center",alignItems:"center",gap:"30px"},children:[(0,l.jsx)("h2",{children:"Contacts"}),(0,l.jsxs)("div",{children:[t.length," contacts total"]}),r&&(0,l.jsx)("div",{style:{color:"grey",position:"absolute",right:"50%",transform:"translate(50%,30%)"},children:"Loading..."})]}),(0,l.jsx)(f,{}),(0,l.jsx)(x,{})]})},g=function(){return(0,l.jsx)("section",{children:(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",backgroundColor:"rgba(255, 255, 255, 0.5)"},children:[(0,l.jsx)(c,{}),(0,l.jsx)(p,{})]})})}}}]);
//# sourceMappingURL=46.eee6bd86.chunk.js.map